<!-- فوتر بهبود یافته -->

    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // محبوب‌ترین دوره‌ها
            const popularSwiper = new Swiper('.popular-courses', {
                slidesPerView: 1.2,
                spaceBetween: 12,
                centeredSlides: false,
                pagination: {
                    el: '.popular-courses .swiper-pagination',
                    clickable: true,
                },
                breakpoints: {
                    480: {
                        slidesPerView: 1.5,
                        spaceBetween: 12,
                    },
                    640: {
                        slidesPerView: 2.2,
                        spaceBetween: 15,
                    },
                    768: {
                        slidesPerView: 2.8,
                        spaceBetween: 15,
                    },
                    992: {
                        slidesPerView: 3.2,
                        spaceBetween: 18,
                    },
                    1200: {
                        slidesPerView: 4,
                        spaceBetween: 20,
                    }
                }
            });

            // جدیدترین دوره‌ها
            const newSwiper = new Swiper('.new-courses', {
                slidesPerView: 1.2,
                spaceBetween: 12,
                centeredSlides: false,
                pagination: {
                    el: '.new-courses .swiper-pagination',
                    clickable: true,
                },
                breakpoints: {
                    480: {
                        slidesPerView: 1.5,
                        spaceBetween: 12,
                    },
                    640: {
                        slidesPerView: 2.2,
                        spaceBetween: 15,
                    },
                    768: {
                        slidesPerView: 2.8,
                        spaceBetween: 15,
                    },
                    992: {
                        slidesPerView: 3.2,
                        spaceBetween: 18,
                    },
                    1200: {
                        slidesPerView: 4,
                        spaceBetween: 20,
                    }
                }
            });

            // حالت شب و روز
            const themeToggle = document.getElementById('themeToggle');
            const themeIcon = themeToggle.querySelector('i');

            // بررسی وضعیت ذخیره شده در localStorage
            if (localStorage.getItem('darkMode') === 'enabled') {
                document.body.classList.add('dark-mode');
                themeIcon.classList.remove('fa-moon');
                themeIcon.classList.add('fa-sun');
            }

            themeToggle.addEventListener('click', function() {
                document.body.classList.toggle('dark-mode');

                if (document.body.classList.contains('dark-mode')) {
                    localStorage.setItem('darkMode', 'enabled');
                    themeIcon.classList.remove('fa-moon');
                    themeIcon.classList.add('fa-sun');
                } else {
                    localStorage.setItem('darkMode', 'disabled');
                    themeIcon.classList.remove('fa-sun');
                    themeIcon.classList.add('fa-moon');
                }
            });

            // منوی همبرگری
            const hamburgerMenu = document.getElementById('hamburgerMenu');
            const mobileMenu = document.getElementById('mobileMenu');
            const overlay = document.getElementById('overlay');

            function toggleMobileMenu() {
                hamburgerMenu.classList.toggle('active');
                mobileMenu.classList.toggle('active');
                overlay.classList.toggle('active');
                document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';
            }

            hamburgerMenu.addEventListener('click', toggleMobileMenu);
            overlay.addEventListener('click', toggleMobileMenu);

            // بستن منو با کلیک روی لینک‌ها
            const mobileMenuLinks = mobileMenu.querySelectorAll('a');
            mobileMenuLinks.forEach(link => {
                link.addEventListener('click', toggleMobileMenu);
            });
        });
    </script>