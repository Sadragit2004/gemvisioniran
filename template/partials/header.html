


<style>

.input-with-icon {
  background-image: url('{{media_url}}images/logoo.png'); /* مسیر آیکون */
   /* مسیر آیکون */
  background-repeat: no-repeat;
  background-position: left 8px center; /* تنظیم مکان آیکون */
  background-size: 60px; /* اندازه آیکون */
  padding-left: 36px; /* فاصله برای جای‌گیری آیکون */

  /* استایل کلی لوگوها */


}



</style>

{% load humanize %}

<header>
    <!-- Header -->
    <div class="fixed left-0 right-0 top-0 z-30 bg-muted">
      <!-- Header Desktop -->
      <div>
        <div class="hidden md:block">
          <!-- Top Section -->
          <div
            class="container relative z-30 flex max-w-[1680px] items-center justify-between gap-x-4 bg-muted py-4"
          >
            <!-- logo -->
            <div>
              <a href="{% url 'main:index' %}">
               {% comment %} {% render_partial 'main:logo' %} {% endcomment %}
               <img style='width: 220px;' src="/media/images/others/gem.png" alt="لوگو سایت ">
              </a>
            </div>



            <form action="">
            <div
              class="relative max-w-xl flex-1"
              id="desktopHeaderSearchBase"
            >
              <div
                id="desktopHeaderSearchWrapper"
                class="flex items-center justify-between rounded-lg border-b-transparent bg-background px-2 dark:border-white/10 dark:border-b-transparent"
              >
                <div>
                  <svg class="h-6 w-6">
                    <use xlink:href="#search" />
                  </svg>
                </div>
                <label class="sr-only">desktop header search</label>
                <input
                  id="desktopHeaderSearch"
                  class="flex grow rounded-lg border-none bg-background px-2 py-3 text-text/90 outline-none placeholder:text-sm placeholder:text-text/60 focus:ring-0 placeholder:"
                  placeholder="جستجو کنید ..."
                  type="text"
                  name='q'
                />
              </div>

            </form>
              <div
                id="desktopHeaderSearchResult"
                class="absolute inset-x-0 top-full hidden w-full overflow-hidden rounded-b-lg border border-t-transparent bg-muted dark:border-white/10 dark:border-t-transparent"
              >
                <div class="max-h-[450px] overflow-y-auto py-5">
                  <!-- Result -->


                </div>
              </div>
            </div>
            <!-- Cart, Theme, Account -->
            <div class="flex gap-x-4 items-center">
              <!-- حساب کاربری -->
              {% if user.is_authenticated %}
              <div class="relative">
                <button
                  class="flex items-center justify-center"
                  data-dropdown-toggle="dropdownAccountDesktop"
                  id="dropdownDefaultButton"
                  type="button"
                >
                  <svg class="h-6 w-6">
                    <use xlink:href="#user" />
                  </svg>
                </button>

                <div
                  class="absolute right-0 z-10 hidden w-60 rounded-lg border-t-2 border-t-primary bg-muted shadow-lg"
                  id="dropdownAccountDesktop"
                >
                  <ul class="space-y-1 p-2">
                    <li>
                      <a
                        class="flex items-center gap-x-4 rounded-lg p-4 hover:text-primary dark:hover:text-emerald-400"
                        href=""
                      >
                        <img
                          alt="profile"
                          class="h-8 w-8 rounded-full"
                          src="{{media_url}}images/user.png"
                        />
                        {% if user.name %}
                        <span class="line-clamp-1">{{ user.name }}</span>
                        {% else %}
                        <span class="line-clamp-1">{{ user.mobile_number }}</span>
                        {% endif %}
                      </a>
                    </li>
                    <li>
                      <a
                        class="flex items-center gap-x-2 rounded-lg p-4 hover:text-primary dark:hover:text-emerald-400"
                        href=""
                      >
                        <svg class="h-6 w-6">
                          <use xlink:href="#order" />
                        </svg>
                        <span>سفارش‌ها</span>
                      </a>
                    </li>
                    <li>
                      <a
                        class="flex items-center gap-x-2 rounded-lg p-4 hover:text-primary dark:hover:text-emerald-400"
                        href=""
                      >
                        <svg class="h-6 w-6">
                          <use xlink:href="#heart" />
                        </svg>
                        <span>علاقه‌مندی‌ها</span>
                      </a>
                    </li>
                    <li>
                      <a
                        class="flex items-center gap-x-2 rounded-lg p-4 hover:text-primary dark:hover:text-emerald-400"
                        href=""
                      >
                        <svg class="h-6 w-6">
                          <use xlink:href="#notification" />
                        </svg>
                        <span>پیام‌ها</span>
                        <span class="relative flex h-5 w-5">
                          <span
                            class="absolute inline-flex h-full w-full animate-ping rounded-full bg-primary opacity-75"
                          ></span>
                          <span
                            class="relative inline-flex h-5 w-5 items-center justify-center rounded-full bg-primary-btn text-sm text-white"
                          >2</span>
                        </span>
                      </a>
                    </li>
                    <li>
                      <div class="my-2 h-px w-full bg-border"></div>
                    </li>
                    <li>
                      <a
                        class="flex items-center gap-x-2 rounded-lg p-4 text-red-500 hover:bg-warning/10 dark:text-red-400 dark:hover:bg-red-400/10"
                        href="{% url 'account:logout' %}"
                      >
                        <svg class="h-6 w-6">
                          <use xlink:href="#exit" />
                        </svg>
                        <span>خروج</span>
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
              {% else %}
              <a style='margin:20px;' href="{% url 'account:send_mobile' %}">
                <div
                  class="flex h-8 cursor-pointer items-center justify-center rounded-lg border px-4 text-sm font-medium transition duration-200 hover:bg-primary hover:text-white dark:hover:bg-primary"
                >
                  ورود / ثبت‌نام
                </div>
              </a>
              {% endif %}

              <!-- سبد خرید -->
              <div style='margin:20px;'>
                <button
                  class="relative flex items-center justify-center"
                  data-dropdown-toggle="dropdownBasketDesktop"
                  type="button"
                >
                  <svg class="h-6 w-6">
                    <use xlink:href="#cart" />
                  </svg>
                  <span
                    id="count_product"
                    class="absolute -right-2.5 -top-2.5 flex h-5 w-5 items-center justify-center rounded-full bg-primary-btn text-sm font-bold text-white"
                  >
                    0
                  </span>
                </button>
                {% comment %} {% render_partial 'order:show_shop_cart' %} {% endcomment %}
              </div>

              <!-- تغییر تم -->
              <div class="cursor-pointer" id="toggleThemeDesktop">
                <div class="dark:hidden">
                  <svg class="h-6 w-6">
                    <use xlink:href="#moon" />
                  </svg>
                </div>
                <div class="hidden dark:block">
                  <svg class="h-6 w-6">
                    <use xlink:href="#sun" />
                  </svg>
                </div>
              </div>
            </div>

          </div>

          <!-- Bottom Section -->
          <div
            class="absolute left-0 right-0 top-full z-20 bg-muted shadow-sm transition-transform duration-300"
            data-onscrollclass="-translate-y-full"
          >
            <nav
              id="header-desktop-navbar"
              class="container relative flex max-w-[1680px] items-center gap-x-2"
            >
              <ul class="group z-10" id="desktopMegamenuWrapper">
                <div
                  class="relative flex cursor-pointer items-center gap-x-2 pb-2"
                >
                  <div>
                    <svg class="h-5 w-5">
                      <use xlink:href="#menu"></use>
                    </svg>
                  </div>
                  <div>دسته‌ بندی‌ ها</div>
                </div>

                <!-- Mega menu -->

              {% comment %} {% render_partial 'product:product_group_view' %} {% endcomment %}
              </ul>

              <ul data-color-dark="#f87171" data-color-light="#ef4444">
                <a class="group" href="#" id="special-sale-link">
                  <div class="p-2 pt-0">فروش ویژه</div>
                </a>
              </ul>
              <ul>
                <a class="group" href="">
                  <div class="p-2 pt-0">چرا جم ویژن ایران</div>
                </a>
              </ul>

              <ul>
                <a class="group" href="">
                  <div class="p-2 pt-0">راهنمای خرید</div>
                </a>
              </ul>
              <ul style="position: relative; display: inline-block;">
                <a
                  style="color:#db8f04; position: relative; display: inline-block;"
                  class="group"
                  href=" "
                >

                  {% comment %} <span
                    class="absolute top-0 right-0 translate-x-[50%] -translate-y-[50%] bg-orange-500 text-white text-xs font-bold px-2 py-1 rounded-full z-10"
                  >
                    new
                  </span> {% endcomment %}
                </a>
              </ul>


              <ul class="group relative z-10" id="header-desktop-indicator">
                <div
                  class="flex cursor-pointer items-center gap-x-2 p-2 pt-0"
                >
                  سایر
                  <span class="text-primary">...</span>
                </div>


                <div
                  class="absolute right-0 top-full hidden w-44 overflow-hidden rounded-b-lg bg-muted group-hover:block"
                >
                  <ul class="space-y-1 p-2">
                    <li>
                      <a
                        class="hover:dark: flex rounded-lg px-4 py-3 hover:text-primary"
                       href=""
                      >
                        تماس با ما
                      </a>
                    </li>
                    <li>
                      <a
                        class="hover:dark: flex rounded-lg px-4 py-3 hover:text-primary"
                       href=""
                      >
                        درباره ما
                      </a>
                    </li>
                    <li>
                      <a
                        class="hover:dark: flex rounded-lg px-4 py-3 hover:text-primary"
                        href=""
                      >
                        سوالات متداول
                      </a>
                    </li>


                  </ul>



                </div>
              </ul>

              <div
                id="header-desktop-navbar-indicator"
                class="absolute bottom-0 h-[0.15625rem] z-0 rounded-2xl end-0 transition-all duration-[350ms] w-0"
              ></div>
            </nav>
          </div>
        </div>
      </div>
      <!-- Mobile Desktop -->
      <div>
        <div class="md:hidden">
          <!-- Top Section -->
          <div
            class="container relative z-30 flex h-16 items-center justify-between gap-x-4 bg-muted"
          >
            <!-- menu -->
            <button
              aria-controls="mobile-menu-drawer-navigation"
              class="cursor-pointer"
              data-drawer-show="mobile-menu-drawer-navigation"
              data-drawer-target="mobile-menu-drawer-navigation"
              type="button"
            >
              <svg class="h-6 w-6">
                <use xlink:href="#menu" />
              </svg>
            </button>

            <!-- logo -->
            {% comment %} <div>
              <a href="{% url 'main:index' %}">
                <img
                  alt="لوگو سایت کتابوو"
                  class="h-6 w-full rounded-lg xs:h-10"
                  src="{{media_url}}images/logoo.png"
                />
              </a>
            </div> {% endcomment %}
            <div class="flex gap-x-4">

              {% if user.is_authenticated  %}

              <div style=' margin-left:40px;'>
                <a href="{% url 'main:index' %}">
                  <img
                  style='width: 100px;'
                    alt="لوگو کتابوو"
                    class="h-6 w-full rounded-lg xs:h-10"
                    src="{{media_url}}images/ketaboo.svg"

                  />
                </a>
              </div>

              {% endif %}

              <!-- Account -->
              <div class="flex items-center justify-between">
                {% if user.is_authenticated  %}




                <button

                  style='margin-left:10px;'
                  aria-controls="user-account-drawer-navigation"
                  class="cursor-pointer"
                  data-drawer-show="user-account-drawer-navigation"
                  data-drawer-target="user-account-drawer-navigation"
                  type="button"
                >
                  <svg class="h-6 w-6">
                    <use xlink:href="#user" />
                  </svg>
                </button>

                {% else %}
                <a  style='margin-left:80px;' href="{% url 'account:send_mobile' %}">
                  <div
                    class="flex h-8 cursor-pointer items-center justify-center rounded-lg border  px-4 text-xs font-medium  transition-colors duration-200 hover:bg-primary hover:text-white    dark:hover:bg-primary dark:hover:text-white xs:text-sm"
                  >
                    ورود \ ثبت نام
                  </div>
                </a>
                {% endif %}

                <button
                  aria-controls="user-basket-drawer-navigation"
                  class="relative"
                  data-drawer-show="user-basket-drawer-navigation"
                  data-drawer-target="user-basket-drawer-navigation"
                  type="button"
                >
                  <span class="cursor-pointer">
                    <svg class="h-6 w-6">
                      <use xlink:href="#cart" />
                    </svg>
                  </span>
                  <span
                    id='count_product2'
                    class="absolute -right-2.5 -top-2.5 flex h-5 w-5 cursor-pointer items-center justify-center rounded-full bg-primary-btn text-sm font-bold text-white"
                  >
                    0
                  </span>
                </button>
              </div>

              <!-- Bottom Section -->
              <form action="  ">
                <div
                  class="absolute left-0 right-0 top-full z-20 bg-muted pb-4 transition-transform duration-300"
                  id="mobile-header-bottom"
                >
                  <div class="container">
                    <div class="relative" id="mobileHeaderSearchBase">
                      <div
                        id="mobileHeaderSearchWrapper"
                        class="flex items-center justify-between rounded-lg border-b-transparent bg-background px-2 dark:border-white/10 dark:border-b-transparent"
                      >
                        <div>
                          <svg class="h-6 w-6" id="searchIcon" style="cursor:pointer;">
                            <use xlink:href="#search" />
                          </svg>
                        </div>
                        <label class="sr-only">Mobile header search</label>
                        <input


                            id="mobileHeaderSearch"
                            class="flex grow rounded-lg border-none bg-background px-2 py-3 outline-none placeholder:text-sm placeholder:text-text/60 focus:ring-0 input-with-icon"
                            placeholder="جستجو در ..."
                            type="text"
                            name="q"
                          />

                      </div>
                    </div>
                  </div>
                </div>
              </form>

                <div
                  id="mobileHeaderSearchResult"
                  class="absolute inset-x-0 top-full hidden w-full overflow-hidden rounded-b-lg border border-t-transparent bg-muted dark:border-white/10 dark:border-t-transparent"
                >
                  <div class="max-h-[450px] overflow-y-auto py-5">
                    <!-- Result -->

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div
      class="fixed inset-0 z-20 hidden bg-black/40 backdrop-blur-md /40"
      id="header-overlay"
    ></div>
  </header>
  <div>
    <!-- Mobile Main Menu Drawer -->

    <div
      aria-labelledby="mobile-menu-drawer-navigation"
      class="fixed right-0 top-0 z-40 h-full w-80 translate-x-full overflow-y-auto bg-muted p-4 transition-transform duration-300"
      id="mobile-menu-drawer-navigation"
      tabindex="-1"
    >
      <div
        class="mb-6 flex items-center justify-between gap-x-4 border-b pb-5"
      >
        <!-- Logo -->
        <div>
          <a href="{% url 'main:index' %}">
            <img
              alt="لوگو در حالت موبایل کتابوو"
              class="h-10 w-full rounded-lg"
              src="{{media_url}}images/ketaboo.svg"
            />
          </a>
          <a href="{% url 'main:index' %}">
            <img
              alt="لوگو در حالت موبایل کتابوو"
              class="h-10 w-full rounded-lg"
              src="{{media_url}}images/logoo.png"
            />
          </a>

        </div>

        <!-- Close Button -->
        <button
          aria-controls="mobile-menu-drawer-navigation"
          class=" "
          data-drawer-hide="mobile-menu-drawer-navigation"
          type="button"
        >
          <svg class="h-5 w-5">
            <use xlink:href="#close" />
          </svg>

          <span class="sr-only">Close menu</span>
        </button>
      </div>
      <!-- Mobile Toggle Theme -->
      <div class="mb-4">
        <div
          class="flex cursor-pointer items-center gap-x-2 rounded-lg px-4 py-3 text-primary"
          id="toggleThemeMobile"
        >
          <div>
            <div class="dark:hidden">
              <svg class="h-6 w-6">
                <use xlink:href="#moon" />
              </svg>
            </div>
            <div class="hidden dark:block">
              <svg class="h-6 w-6">
                <use xlink:href="#sun" />
              </svg>
            </div>
          </div>

          <div
            class="flex items-center justify-between"
            id="themeText"
          ></div>
        </div>
      </div>

      <div class="overflow-y-auto">
        <ul class="space-y-4">

          <li>

            <form action="  ">
              <!-- Search -->
              <div
                class="relative max-w-xl flex-1"
                id="desktopHeaderSearchBase"
              >
                <div
                  id="desktopHeaderSearchWrapper"
                  class="flex items-center justify-between rounded-lg border-b-transparent bg-background px-2 dark:border-white/10 dark:border-b-transparent"
                >
                  <div>
                    <svg class="h-6 w-6">
                      <use xlink:href="#search" />
                    </svg>
                  </div>
                  <label class="sr-only">desktop header search</label>
                  <input
                    id="desktopHeaderSearch"
                    class="flex grow rounded-lg border-none bg-background px-2 py-3 text-text/90 outline-none placeholder:text-sm placeholder:text-text/60 focus:ring-0 placeholder:"
                    placeholder="جستجو کنید ..."
                    type="text"
                    name='q'
                  />
                </div>

              </form>
          </li>

          <li>
            <a
              class="flex items-center justify-between rounded-lg px-4 py-3 hover:text-primary"
              href="{% url 'main:index' %}"

            >
              <span class="flex items-center gap-x-2">
                <svg class="h-6 w-6">
                  <use xlink:href="#home" />
                </svg>
                <span> صفحه اصلی </span>
              </span>
            </a>
          </li>


          <li>
            <a
              class="flex items-center justify-between rounded-lg px-4 py-3 hover:text-primary"
              href=""

            >
              <span class="flex items-center gap-x-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-file" viewBox="0 0 16 16">
                  <path d="M4 0a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zm0 1h8a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1"/>
                </svg>
                <span style='color:orange; font-weight:bold;'>کتابوو تو !</span>
              </span>
            </a>
          </li>


          <li>
            <a

              id="special-sale-link"
              class="flex items-center justify-between rounded-lg px-4 py-3 hover:text-primary"

            >
              <span class="flex items-center gap-x-2">
                <svg class="h-6 w-6">
                  <use xlink:href="#special-sale" />
                </svg>
                <span> فروش ویژه </span>
              </span>
            </a>
          </li>
          <li>
            <a
              class="flex items-center justify-between rounded-lg px-4 py-3 hover:text-primary"
              href="   "
            >
              <span class="flex items-center gap-x-2">
                <svg class="h-6 w-6">
                  <use xlink:href="#why-us" />
                </svg>
                <span> چرا جم ویژن ایران </span>
              </span>
            </a>
          </li>
          <li>
            <a
              class="flex items-center justify-between rounded-lg px-4 py-3 hover:text-primary"
              href="   "
            >
              <span class="flex items-center gap-x-2">
                <svg class="h-6 w-6">
                  <use xlink:href="#how-to-buy" />
                </svg>
                <span> راهنمای خرید </span>
              </span>
            </a>
          </li>
          <li>
            <a
              class="flex items-center justify-between rounded-lg px-4 py-3 hover:text-primary"
              href="   "
            >
              <span class="flex items-center gap-x-2">
                <svg class="h-6 w-6">
                  <use xlink:href="#shop" />
                </svg>
                <span> درباره ما </span>
              </span>
            </a>
          </li>
          <li>
            <a
              class="flex items-center justify-between rounded-lg px-4 py-3 hover:text-primary"
              href=""
            >
              <span class="flex items-center gap-x-2">
                <svg class="h-6 w-6">
                  <use xlink:href="#contact" />
                </svg>
                <span> تماس با ما </span>
              </span>
            </a>
          </li>
          <li>
            <a
              class="flex items-center justify-between rounded-lg px-4 py-3 hover:text-primary"
              href=""
            >
              <span class="flex items-center gap-x-2">
                <svg class="h-6 w-6">
                  <use xlink:href="#question" />
                </svg>
                <span> سوالات متداول </span>
              </span>
            </a>
          </li>
          <!-- Shop -->
          <li>
            <div class="flex items-center">
              <div
                class="h-px w-full flex-grow rounded-full bg-border"
              ></div>

              <div class="p-2 text-text/80">
                <span class="flex items-center gap-x-2">
                  <svg class="h-6 w-6">
                    <use xlink:href="#order" />
                  </svg>
                </span>
              </div>
              <div
                class="h-px w-full flex-grow rounded-full bg-border"
              ></div>
            </div>
          </li>

          <!-- Categories -->
          {% comment %} {% render_partial 'product:product_group_view_mobile' %} {% endcomment %}

        </ul>
      </div>
    </div>

    <!-- Mobile User Account Drawer -->

    {% if user.is_authenticated == True %}

    <div
      aria-labelledby="user-account-drawer-navigation-label"
      class="main-scroll fixed left-0 top-0 z-40 h-full w-80 -translate-x-full overflow-y-auto bg-muted p-4 pb-20 transition-transform duration-300"
      id="user-account-drawer-navigation"
      tabindex="-1"
    >
      <div
        class="mb-6 flex items-center justify-between gap-x-4 border-b pb-5"
      >
        <!-- Close Button -->
        <button
          aria-controls="user-account-drawer-navigation"
          class=" "
          data-drawer-hide="user-account-drawer-navigation"
          type="button"
        >
          <svg class="h-5 w-5">
            <use xlink:href="#close" />
          </svg>

          <span class="sr-only">Close menu</span>
        </button>

        <div class="text-lg">حساب کاربری</div>
      </div>
      <div class="overflow-y-auto">
        <ul class="space-y-4">
          <li>
            <a
              class="flex items-center justify-between rounded-lg px-4 py-3 hover:text-primary"
              href=""
            >
              <span class="flex items-center gap-x-4">
                <span class="min-w-fit">
                  <img
                    alt="ایکون کاربر سایت کتابوو"
                    class="h-10 w-10 rounded-full"
                    src="{{media_url}}images/user.png"
                  />
                </span>
                {% if user.name %}

                <span class="line-clamp-1">{{user.name}} {{user.family}}</span>

                {% else %}
                {{user.mobile_number}}

                {% endif %}
              </span>
              <span>
                <svg class="h-6 w-6">
                  <use xlink:href="#chevron-left" />
                </svg>
              </span>
            </a>
          </li>

          <li>
            <a
              class="flex items-center justify-between rounded-lg px-4 py-3 hover:text-primary"
             href=""
            >
              <span class="flex items-center gap-x-2">
                <svg class="h-6 w-6">
                  <use xlink:href="#order" />
                </svg>
                <span> سفارش ها </span>
              </span>
              <span class="relative flex h-5 w-5">
                <span
                  class="absolute inline-flex h-full w-full animate-ping rounded-full bg-primary opacity-75"
                ></span>
                <span
                  class="relative inline-flex h-5 w-5 items-center justify-center rounded-full bg-primary-btn text-sm text-white"
                >
                  2
                </span>
              </span>
            </a>
          </li>
          <li>
            <a
              class="flex items-center justify-between rounded-lg px-4 py-3 hover:text-primary"
              href=""
            >
              <span class="flex items-center gap-x-2">
                <svg class="h-6 w-6">
                  <use xlink:href="#heart" />
                </svg>
                <span> علاقه‌مندی ها </span>
              </span>
            </a>
          </li>
          <li>
            <a
              class="flex items-center justify-between rounded-lg px-4 py-3 hover:text-primary"
              href=""
            >
              <span class="flex items-center gap-x-2">
                <svg class="h-6 w-6">
                  <use xlink:href="#notification" />
                </svg>
                <span> پیام ها </span>
              </span>

              <span class="relative flex h-5 w-5">
                <span
                  class="absolute inline-flex h-full w-full animate-ping rounded-full bg-primary opacity-75"
                ></span>
                <span
                  class="relative inline-flex h-5 w-5 items-center justify-center rounded-full bg-primary-btn text-sm text-white"
                >
                  2
                </span>
              </span>
            </a>
          </li>
          <li>
            <a
              class="flex items-center justify-between rounded-lg px-4 py-3 text-red-500 hover:bg-warning/10 dark:text-red-400 hover:dark:bg-red-400/10"
              href="{% url 'account:logout' %}"
            >
              <div class="flex items-center gap-x-2">
                <svg class="h-6 w-6">
                  <use xlink:href="#exit" />
                </svg>
                <span> خروج </span>
              </div>
            </a>
          </li>
        </ul>
      </div>
    </div>



    {% endif %}

